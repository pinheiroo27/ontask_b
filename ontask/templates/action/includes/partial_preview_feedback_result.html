{% load i18n %}
{% load static %}
{% block extrahead %}
  <link href="{% static 'css/query-builder.default.min.css' %}" rel="stylesheet">
  <link href="{% static 'css/sol.css' %}" rel="stylesheet">
{% endblock extrahead %}
<div class="js-action-preview-form">
  <div class="modal-header">
    {% if n_items %}
      <h4 class="modal-title">{% blocktrans %}Feedback Analyze {% endblocktrans %}</h4>
    {% else %}
      <h4 class="modal-title">{% trans 'Feedback Analyzer' %}</h4>
    {% endif %}
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="mx-3 my-3">
    {% if all_false %}
      <p class="alert-danger text-center"><span class="fa fa-exclamation-triangle" style="color:red;"></span> {% trans 'All conditions evaluate to FALSE' %}</p>
    {% endif %}
    {% if incorrect_json %}
      <p class="alert-danger text-center">{% trans 'Incorrect JSON object. Check action text' %}</p>
    {% endif %}
    {% if prelude %}
      <div class="modal-body border border-dark">
        <strong>{% trans 'Subject:' %}</strong> {{ prelude }}
      </div>
    {% endif %}
    <div id="preview-body" class="modal-body shadow border border-dark">
      {% if action.action_type == 'personalized_json' %}
        <pre>{{ action_content }}</pre>
      {% elif action.action_type == 'personalized_canvas_email' %}
        <div style="white-space: pre-wrap;">{{ action_content }}</div>
      {% else %}

      	<div class='conteudo3'>

		<h4 class="modal-title">{% trans 'Good Practices' %}</h4>
		  {% if classe0 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP1' %}">
			  {% trans 'GP1' %}
		  </button>
		  {% elif classe0 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP1' %}">
			  {% trans 'GP1' %}
		  </button>
		  {% endif%}

		  {% if classe1 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP2' %}">
			  {% trans 'GP2' %}
		  </button>
		  {% elif classe1 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP2' %}">
			  {% trans 'GP2' %}
		  </button>

		  {% if classe2 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP3' %}">
			  {% trans 'GP3' %}
		  </button>
		  {% elif classe2 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP3' %}">
			  {% trans 'GP3' %}
		  </button>
		  {% endif%}

		  {% if classe3 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP4' %}">
			  {% trans 'GP4' %}
		  </button>
		  {% elif classe3 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP4' %}">
			  {% trans 'GP4' %}
		  </button>
		  {% endif%}

		  {% if classe4 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP5' %}">
			  {% trans 'GP5' %}
		  </button>
		  {% elif classe4 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP5' %}">
			  {% trans 'GP5' %}
		  </button>
		  {% endif%}

		  {% if classe5 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP6' %}">
			  {% trans 'GP6' %}
		  </button>
		  {% elif classe5 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP6' %}">
			  {% trans 'GP6' %}
		  </button>
		  {% endif%}

		  {% if classe6 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP7' %}">
			  {% trans 'GP7' %}
		  </button>
		  {% elif classe6 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'GP7' %}">
			  {% trans 'GP7' %}
		  </button>
		  {% endif%}
			<br>
			<br>
			<br>

			<h4 class="modal-title">{% trans 'Levels' %}</h4>


		  {% if classe7 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'FT' %}">
			  {% trans 'FT' %}
		  </button>
		  {% elif classe7 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'FT' %}">
			  {% trans 'FT' %}
		  </button>
		  {% endif%}

		  {% if classe8 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'FP' %}">
			  {% trans 'FP' %}
		  </button>
		  {% elif classe8 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'FP' %}">
			  {% trans 'FP' %}
		  </button>
		  {% endif%}

		  {% if classe9 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'FR' %}">
			  {% trans 'FR' %}
		  </button>
		  {% elif classe9 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'FR' %}">
			  {% trans 'FR' %}
		  </button>
		  {% endif%}

		  {% if classe10 == 1 %}
		  <button type="button"
            class="shadow btn btn-success js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'FS' %}">
			  {% trans 'FS' %}
		  </button>
		  {% elif classe10 == 0  %}
		  <button type="button"
            class="shadow btn btn-outline-danger js-action-preview"
            data-toggle="tooltip"
            title="{% trans 'FS' %}">
			  {% trans 'FS' %}
		  </button>
		  {% endif%}
		{% endif%}

			</div>
      {% endif %}
    </div>
    {% if show_values or show_conditions or action.attachments.exists %}
      <div id="preview-variables" class="modal-body shadow border border-dark">
        {% if show_values %}
          <div><strong>{% trans 'Values:' %}</strong> {{ show_values }}</div>
        {% endif %}
        {% if show_conditions %}
          <div><strong>{% trans 'Conditions:' %}</strong> {{ show_conditions }}</div>
        {% endif %}
        {% if action.attachments.exists %}
          <div><strong>{% trans 'Attachments:' %}</strong> {{ action.attachment_names|join:", " }}</div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>

